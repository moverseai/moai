# @package _global_

_moai_:
  _collections_:
    _monitors_:
      save_image_batch:
        image2d:
          modality: [color] # or depth
          colormap: [none] # bone, etc.
          transform: [none] # minmax, etc.
          mode: [overwrite] # [all, overwrite]
          key: [color]
          path: .
          extension: [png] # [png, exr, jpg]
    _metrics_:
      test_class_acc:
        multiclass_acc:
          # gt: [label]
          # pred: [predicted_label]
          target: [label]
          preds: [predicted_label]
          out: [accuracy]
        multiclass_f1:
          target: [label]
          preds: [predicted_label]
          out: [f1]
      predict_class_acc:
        multiclass_acc:
          target: [predicted_label]
          preds: [predicted_label]
          out: [accuracy2]
  _monitoring_:
    fit:
      batch:
        train_encoder:
          frequency: 1
          steps: []
    val:
      batch:
        train_encoder:
          metrics:
            - test_class_acc
    test:
      batch:
        metrics:
          - test_class_acc
    predict:
      batch:
        metrics:
          - predict_class_acc
        tensors: # used for visualization & exporting
          - save_image_batch
        
      
    # tensors:
    #   show_image_batch:
    #     image2d:
    #       image: [color]
    #       type: [color]
    #       colormap: [none]
